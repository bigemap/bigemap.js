---
layout: api
title: "v3.0.0 JavaScript Library: Upgrading from Bigemap.js v1"
categories: api
version: v3.0.0
permalink: /api/v3.0.0/upgrading-from-bigemap-js-v1/
---
<h2 id="section-upgrading-from-bigemap-js-v1">Upgrading from Bigemap.js v1</h2>
<p>In a few cases, you may need to make changes to code written for Bigemap.js 1.x
versions in order to work with Bigemap.js 2.x.</p>
<ul>
<li><p>Bigemap.js 2.x uses version 4 of the Bigemap web services API, which requires API access tokens.
You must supply an access token to Bigemap.js; see <a href="../api-access-tokens">API access tokens</a> for
details.</p>
</li>
<li><p>The <code>markerLayer</code> alias has been removed from <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-map">L.bigemap.map</a></code>. Use <code>featureLayer</code>
instead. For example, replace</p>
<pre><code>map.markerLayer.setFilter(function(f) { ... });
</code></pre><p>with</p>
<pre><code>map.featureLayer.setFilter(function(f) { ... });
</code></pre></li>
<li><p><code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocoder">L.bigemap.geocoder</a></code> and <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocodercontrol">L.bigemap.geocoderControl</a></code> no longer accept arbitrary map IDs.
Instead you must provide a predefined geocoder index ID (or the ID of a custom geocoder
index). For instance, replace</p>
<pre><code>L.bigemap.geocoderControl(&#39;bigemap.outdoors&#39;).addTo(map);
</code></pre><p>with</p>
<pre><code>L.bigemap.geocoderControl(&#39;bigemap.places&#39;).addTo(map);
</code></pre><p>See <a href="https://www.bigemap.com/developers/api/geocoding/">the geocoding API documentation</a>
for a complete list of predefined geocoding indexes.</p>
</li>
<li><p>The format for <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocoder">L.bigemap.geocoder</a></code> and <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocodercontrol">L.bigemap.geocoderControl</a></code> results have changed.
Results are now provided in GeoJSON format. If your code uses <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocoder">L.bigemap.geocoder</a></code> or
the <code>found</code>, <code>select</code>, or <code>autoselect</code> events from <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocodercontrol">L.bigemap.geocoderControl</a></code>, it may
need to be updated to expect the format documented in those classes.</p>
</li>
<li><p><code><a href="/bigemap.js/api/v3.0.0/l-bigemap-config-http_urls">L.bigemap.config.HTTP_URLS</a></code> and <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-config-https_urls">L.bigemap.config.HTTPS_URLS</a></code> have been replaced
with <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-config-http_url">L.bigemap.config.HTTP_URL</a></code> and <code><a href="/bigemap.js/api/v3.0.0/l-bigemap-config-https_url">L.bigemap.config.HTTPS_URL</a></code>, which expect to
be assigned a single URL rather than an array of URLs. For example, replace</p>
<pre><code>L.bigemap.config.HTTP_URLS = [&quot;http://example.com/&quot;];
</code></pre><p>with</p>
<pre><code>L.bigemap.config.HTTP_URL = &quot;http://example.com/&quot;;
</code></pre></li>
<li><p><code><a href="/bigemap.js/api/v3.0.0/l-bigemap-tilelayer">L.bigemap.tileLayer</a></code> no longer supports <code>detectRetina</code>, <code>retinaVersion</code>, or <code>autoscale</code> options.
Instead, retina tiles are always automatically used when available.</p>
</li>
<li><p><code><a href="/bigemap.js/api/v3.0.0/l-bigemap-geocoder">L.bigemap.geocoder</a></code> no longer has <code>setURL</code>, <code>setID</code>, and <code>setTileJSON</code> methods. Instead
of resetting the URL or ID, construct a new instance with the desired URL or ID. Instead of
setting TileJSON, construct an instance from the geocoding URL in the TileJSON.</p>
</li>
</ul>
