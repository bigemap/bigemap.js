# bigemap.js

Bigemap JavaScript API, a [Leaflet](http://leafletjs.com/) Plugin for working with Bigemap Server.

## API Docs

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [Map Object](#map-object)
    *   [Map](#map)
        *   [Parameters](#parameters)
        *   [Examples](#examples)
*   [Properties and options](#properties-and-options)
    *   [accessToken](#accesstoken)
        *   [Examples](#examples-1)
    *   [apiUrl](#apiurl)
        *   [Examples](#examples-2)
    *   [version](#version)
        *   [Examples](#examples-3)
*   [Layers](#layers)
    *   [FeatureLayer](#featurelayer)
        *   [Parameters](#parameters-1)
        *   [Examples](#examples-4)
    *   [TileLayer](#tilelayer)
        *   [Parameters](#parameters-2)
        *   [Examples](#examples-5)
*   [Markers and controls](#markers-and-controls)
    *   [icon](#icon)
        *   [Parameters](#parameters-3)
        *   [Examples](#examples-6)
    *   [style](#style)
        *   [Parameters](#parameters-4)
        *   [Examples](#examples-7)
    *   [LegendControl](#legendcontrol)
        *   [Parameters](#parameters-5)
        *   [Examples](#examples-8)

### Map Object



#### Map

[src/map.js:39-240](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/map.js#L39-L240 "Source code on GitHub")

**Extends L.Map**

Create and automatically configure a map with layers, markers, and
interactivity.

##### Parameters

*   `element` **([HTMLElement](https://developer.mozilla.org/docs/Web/HTML/Element) | [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String))** The HTML element in which Bigemap.js will render the map, or the element's string `id`. The specified element must have no children.
*   `id` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** The map's `id` string `examples.map-foo`.
*   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** If provided, it is the same [options](https://leafletjs.com/reference.html#map-option) as provided to L.Map with the following additions:*   `tileLayer` L.TileLayer option. Options passed to a `L.bigemap.tileLayer` based on the TileJSON. Set to `false` to disable the `L.bigemap.tileLayer`.
    *   `featureLayer` `L.bigemap.featureLayer` options. Options passed to a `L.bigemap.featureLayer` based on the TileJSON. Set to `false` to disable the `L.bigemap.featureLayer`.
    *   `legendControl` `L.bigemap.legendControl` options. Options passed to a `L.bigemap.legendControl` based on the TileJSON. Set to `false` to disable the `L.bigemap.legendControl`.

##### Examples

```javascript
// map refers to a <div> element with the ID map
// bigemap.streets is the ID of a map on Bigemap.com
var map = L.bigemap.map('map', 'bigemap.streets');
```

```javascript
// This map will have no layers initially
var map = L.bigemap.map('map');
```

### Properties and options

Bigemap.js's global properties and options that you can access while initializing your map or accessing information about its status.

#### accessToken

[src/bigemap.js:44-46](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/bigemap.js#L44-L46 "Source code on GitHub")

Gets and sets the map's access token.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

##### Examples

```javascript
L.bigemap.accessToken = myAccessToken;
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The currently set access token.

#### apiUrl

[src/bigemap.js:60-62](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/bigemap.js#L60-L62 "Source code on GitHub")

Gets and sets the map's default API URL.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

##### Examples

```javascript
L.bigemap.apiUrl = 'https://api.bigemap.com';
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The current base API URL.

#### version

[src/bigemap.js:77-77](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/bigemap.js#L77-L77 "Source code on GitHub")

Gets the version of Bigemap.js.

Type: [string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)

##### Examples

```javascript
console.log(`Bigmeap.js v${L.bigemap.VERSION}`);
```

### Layers



#### FeatureLayer

[src/feature\_layer.js:29-157](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/feature_layer.js#L29-L157 "Source code on GitHub")

**Extends L.FeatureGroup**

`L.bigemap.featureLayer` provides an easy way to integrate [GeoJSON](http://www.geojson.org/)
from Bigemap and elsewhere into your map.

##### Parameters

*   `id` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** Must bu either*   An `id` string like `examples.map-foo`.
    *   A GeoJSON object, from your own Javascript code.
*   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** If provided, it is the same options as provided to [`L.FeatureGroup`](https://leafletjs.com/reference.html#featureGroup),
    with the following addition:*   `accessToken`: Bigemap Server API access token. Overrides `L.bigemap.accessToken` for this layer.

##### Examples

```javascript
var featureLayer = L.bigemap.featureLayer(geojson).addTo(map);
```

Returns **[FeatureLayer](#featurelayer)** A `L.bigemap.featureLayer` object.

#### TileLayer

[src/tile\_layer.js:23-137](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/tile_layer.js#L23-L137 "Source code on GitHub")

**Extends L.TileLayer**

You can add a tiled layer to your map with `L.bigemap.tileLayer()`, a simple
interface to layers from Bigemap and elsewhere.

##### Parameters

*   `id` **([string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String) | [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object))** An `id` string like `examples.map-foo`.
*   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** If provided, it is the same options as provided to [`L.TileLayer`](https://leafletjs.com/reference.html#tilelayer),
    with the following addition:*   `accessToken`: Bigemap Server API access token. Overrides `L.bigemap.accessToken` for this layer.

##### Examples

```javascript
// the second argument is optional
var layer = L.bigemap.tileLayer('bigemap.streets');
```

### Markers and controls



#### icon

[src/marker.js:18-52](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/marker.js#L18-L52 "Source code on GitHub")

A core icon generator used in `L.bigemap.marker.style`.

##### Parameters

*   `fp` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** A GeoJSON feature's properties object.
*   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** If provided, it may include `accessToken`: Bigemap.js access token.
    Overrides `L.bigemap.accessToken` for marker api.

##### Examples

```javascript
var icon = L.bigemap.marker.icon(properties);
```

Returns **L.Icon** A `L.Icon` object with custom settings for `iconUrl`, `iconSize`, `iconAnchor`,
and `popupAnchor`.

#### style

[src/marker.js:67-72](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/marker.js#L67-L72 "Source code on GitHub")

Given a GeoJSON Feature with optional simplestyle-spec properties, return an
options object formatted to be used as [Leaflet Path options](http://leafletjs.com/reference.html#path).

##### Parameters

*   `f` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** A GeoJSON feature object.
*   `latlon` **([Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)<[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)> | L.LatLng)** The latitude, longitude position of the marker.
*   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** If provided, it may include `accessToken`: Bigemap.js access token.
    Overrides `L.bigemap.accessToken` for marker api.

##### Examples

```javascript
var marker = L.bigemap.marker.style(feature, latlon);
```

Returns **L.Marker** A `L.Marker` object with the latitude, longitude position and a styled marker.

#### LegendControl

[src/legend\_control.js:14-81](https://github.com/bigemap/bigemap.js/blob/850e3b0366ac4323c1a0703db74977f7fc9bb46d/src/legend_control.js#L14-L81 "Source code on GitHub")

**Extends L.Control**

A map control that shows legends added to maps in Bigemap. Legends are auto-detected from active layers.

##### Parameters

*   `options` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)?** If provided, it is the same options as provided to [`L.Control`](https://leafletjs.com/reference.html#control).

##### Examples

```javascript
var map = L.bigemap.map('map').setView([38, -77], 5);
map.addControl(L.bigemap.legendControl());
```
